{{ block title }}
    {{task_name}}
{{ endblock }}

{{ block content }}



<script>
    function myFunction(){



        {# store the chosen value of the slider in var "hischoice"#}
        hischoice=document.getElementById('slider_choice_django').value

        {#the 'id_choice_NV_task' is an invisible field, i edit its value to hischoice#}
        document.getElementById('id_choice_NV_task').value=hischoice

        if(hischoice>0){
        document.getElementById("hischoice").innerHTML = 'I think (or bet?), on average, ' + 'women'.bold() +' correctly answered ' + (hischoice).toString().bold() + ' more questions than'+' men.'.bold()
        }
        else{
        document.getElementById("hischoice").innerHTML ='I think, on average, ' + 'women'.bold() +' correctly answered ' + (-hischoice).toString().bold() + ' more questions than'+' men.'.bold()
        }

        document.getElementById("id_players_slider_choice").value=hischoice
    }

    function myFunctionReady(){
        document.getElementById("ready-button").style.display="none" {# hide the ready-button#}
        document.getElementById("slider-div").style.display="inline" {#show the slider-div#}
        document.getElementById("next-button").style.display="inline" {# show the next button#}
    }
</script>


{{ include path_task}}

{#this is the hidden field where i store the players choice#}
<input type="hidden" name="players_slider_choice" id="players_slider_choice" />



{#When player is ready to answer he will press this button#}
<button id="ready-button" onclick="myFunctionReady()" class="otree-btn-next btn btn-primary">I am ready to answer</button> <br>

{#This is the div for the slider, i set this initially to be hidden to avoid any anchoring effects#}
<div id="slider-div" class="initially-hidden" style="display:none">
    <label for="slider_choice_django" class="form-label">How many more questions, do you think, men answered compared to women?</label>
    <input type="range" class="form-range" min="-10" max="10" step="0.1" id="slider_choice_django" oninput="myFunction()"> {#slider input#}

        {#This paragtaph is a description of the player's choice. As soon as a slider choice is made it shows the slide value#}
        <p id="hischoice"></p>
</div>



    <div style="display:none"></div>
    {{formfields}}  <br> {#make sure to hide this before deploying the experiment with wrapping in a div with style="display:none"#}

    <div id="next-button" class="div-pls-change" style="display:none">
        {{ next_button }}
    <div>

{{ endblock }}

